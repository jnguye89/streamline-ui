<div class="container">
  <form class="composer" (ngSubmit)="submit()">
    <mat-form-field class="field" appearance="outline">
      <textarea
        matInput
        name="text"
        [(ngModel)]="text"
        placeholder="Write a threadâ€¦"
        cdkTextareaAutosize
        cdkAutosizeMinRows="3"
        cdkAutosizeMaxRows="8"
        maxlength="255"
      ></textarea>
      <mat-hint>{{ (text?.length || 0) }} / 255</mat-hint>
    </mat-form-field>
    <br />
    <button mat-flat-button color="primary" type="submit" [disabled]="!canSubmit" click="submit()">
      Submit
    </button>
  </form>

  <!-- rest of your template unchanged -->
  <ng-container *ngIf="threads$ | async as threads; else empty">
    <div class="list">
      <mat-card *ngFor="let t of threads; trackBy: trackById" appearance="outlined">
        <mat-card-header>
          <mat-card-title>{{ t.threadItem }}</mat-card-title>
          <mat-card-subtitle class="meta">{{ t.user }}</mat-card-subtitle>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>{{ t.createdAt | date }}</mat-card-content>
      </mat-card>
    </div>
  </ng-container>

  <ng-template #empty>
    <div class="empty">No threads yet.</div>
  </ng-template>
</div>
